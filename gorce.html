<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Dynamic Circular Graph with Random Values</title>
   <style>
      .graph {
         width: 300px;
         height: 300px;
      }

      .axis {
         stroke: #ccc;
      }

      .green {
         fill: green;
      }

      .red {
         fill: red;
      }
   </style>
</head>

<body>
   <svg class="graph" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" id="graph">
      <!-- Circle outline -->
      <circle cx="150" cy="150" r="100" fill="none" stroke="#ccc" stroke-width="2" />

      <!-- X and Y axes -->
      <line x1="50" y1="150" x2="250" y2="150" class="axis" />
      <line x1="150" y1="50" x2="150" y2="250" class="axis" />

      <!-- Line from center to dot -->
      <line id="line" x1="150" y1="150" x2="150" y2="150" stroke="blue" stroke-width="2" />
   </svg>
   <div class="gForce"></div>
   <script>
      function valueToColor(value) {
         value = value * 255;
         return 'rgb(' + value + ',' + (255 - value) + ',' + 0 + ')';
      }

      function plotVals(ax, az) {
         let svg = document.getElementById('graph');

         // Remove previous line and dot
         while (svg.lastChild && svg.lastChild.tagName === 'circle') {
            svg.removeChild(svg.lastChild);
         }
         let x = 150 + ax * 100;
         let y = 150 - az * 100;

         // Create new dot
         let circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
         circle.setAttribute('cx', x);
         circle.setAttribute('cy', y);
         circle.setAttribute('r', 5);
         circle.style.fill = valueToColor((ax + az) / 2);
         svg.appendChild(circle);

         // Smooth transition animation for the line
         let line = document.getElementById('line');
         animateLine(line, 150, 150, x, y);
      }

      function animateLine(line, x1, y1, x2, y2) {
         line.setAttribute('x1', x1);
         line.setAttribute('y1', y1);
         line.setAttribute('x2', x1);
         line.setAttribute('y2', y1);

         line.setAttribute('stroke', 'red');
         line.setAttribute('stroke-width', '2');

         line.setAttribute('x2', x2);
         line.setAttribute('y2', y2);
      }

      setInterval(function () {
         let ax = Math.random();
         let az = Math.random();
         plotVals(ax, az);
      }, 1000); 
   </script>
</body>

</html>
